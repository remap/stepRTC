<html>
  <head>
    <title>Receive LAN Video</title>
    <link type="text/css" href="/style.css" rel="stylesheet"></link>

    <script src="/webrtc.io.js"></script>
	
	<script>
	// hide local video when it shows up 
	function makeSureLocalIsInvisible(){
		if(gSocketId){
			initCanvas();
			document.getElementById("you").style.visibility="hidden";
			remoteVid = document.getElementById('remote' + gSocketId);
			remoteVid.style.visibility="hidden";
		}
	}
	// poll until video disappears
	var hideit = setInterval(makeSureLocalIsInvisible,200);
	
	// instantiate canvas
	if(gSocketId){
		removeVideo(gSocketId)
		//clearInterval(hideit)  // this works - but if either side re-refreshes browser, the local will appear in remote. 
		// as it's not a huge performance hit, I'm not going to clear interval.
	}
	
	</script>
	
  </head>
  <body onload="init()">
	 
	 <canvas id="c" ondblclick="this.webkitRequestFullScreen()">"></canvas>
	 
    <div id="videos">
      <video id="you" class="flip" autoplay width="320" height="240" style="position: absolute; left: 0px; bottom: 0px;"></video>
    </div>

	
    <script src="/script.js"></script>
  </body>
  <footer>
	    <script src="/canvas.js"></script>
  </footer>

</html>